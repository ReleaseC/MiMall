(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cf32005"],{"0025":function(t,e,i){},1255:function(t,e,i){"use strict";var s=i("51eb"),a=i.n(s);a.a},"1dde":function(t,e,i){var s=i("d039"),a=i("b622"),r=i("2d00"),c=a("species");t.exports=function(t){return r>=51||!s((function(){var e=[],i=e.constructor={};return i[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2c69":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-confirm"},[i("svg",{staticStyle:{position:"absolute",width:"0px",height:"0px",overflow:"hidden"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("defs",[i("symbol",{attrs:{id:"icon-add",viewBox:"0 0 31 32"}},[i("title",[t._v("add")]),i("path",{staticClass:"path1",attrs:{d:"M30.745 15.152h-14.382v-14.596c0-0.308-0.243-0.557-0.543-0.557s-0.543 0.249-0.543 0.557v14.596h-14.665c-0.3 0-0.543 0.249-0.543 0.557s0.243 0.557 0.543 0.557h14.665v15.177c0 0.307 0.243 0.557 0.543 0.557s0.543-0.249 0.543-0.557v-15.177h14.382c0.3 0 0.543-0.249 0.543-0.557s-0.243-0.557-0.543-0.557z"}})]),i("symbol",{attrs:{id:"icon-edit",viewBox:"0 0 32 32"}},[i("title",[t._v("edit")]),i("path",{staticClass:"path1",attrs:{d:"M28.287 8.51l-4.805-4.806 0.831-0.831c0.472-0.472 1.086-0.777 1.564-0.777 0.248 0 0.452 0.082 0.622 0.253l3.143 3.144c0.539 0.54 0.133 1.529-0.524 2.186l-0.831 0.831zM26.805 9.992l-1.138 1.138-4.805-4.806 1.138-1.138 4.805 4.806zM24.186 12.612l-14.758 14.762-4.805-4.806 14.758-14.762 4.805 4.806zM7.379 28.288l-4.892 1.224 1.223-4.894 3.669 3.67zM31.123 4.011l-3.143-3.144c-0.567-0.567-1.294-0.867-2.103-0.867-1.036 0-2.174 0.52-3.045 1.391l-20.429 20.436c-0.135 0.134-0.23 0.302-0.276 0.487l-2.095 8.385c-0.089 0.355 0.017 0.736 0.276 0.995 0.198 0.198 0.461 0.307 0.741 0.307 0.085 0 0.171-0.010 0.254-0.031l8.381-2.096c0.185-0.047 0.354-0.142 0.487-0.276l20.43-20.436c1.409-1.41 2.042-3.632 0.524-5.15v0z"}})]),i("symbol",{attrs:{id:"icon-del",viewBox:"0 0 32 32"}},[i("title",[t._v("delete")]),i("path",{staticClass:"path1",attrs:{d:"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z"}}),i("path",{staticClass:"path2",attrs:{d:"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),i("path",{staticClass:"path3",attrs:{d:"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),i("path",{staticClass:"path4",attrs:{d:"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}})])])]),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"container"},[i("div",{staticClass:"order-box"},[i("div",{staticClass:"item-address"},[i("h2",{staticClass:"addr-title"},[t._v("收货地址")]),i("div",{staticClass:"addr-list clearfix"},[t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"addr-info",class:{checked:s==t.checkIndex},on:{click:function(e){t.checkIndex=s}}},[i("h2",[t._v(t._s(e.receiverName))]),i("div",{staticClass:"phone"},[t._v(t._s(e.receiverMobile))]),i("div",{staticClass:"street"},[t._v(t._s(e.receiverProvince+" "+e.receiverCity+" "+e.receiverDistrict+" "+e.receiverAddress))]),i("div",{staticClass:"action"},[i("a",{staticClass:"fl",attrs:{href:"javascript:;"},on:{click:function(i){return t.delAddress(e)}}},[i("svg",{staticClass:"icon icon-del"},[i("use",{attrs:{"xlink:href":"#icon-del"}})])]),i("a",{staticClass:"fr",attrs:{href:"javascript:;"},on:{click:function(i){return t.editAddressModal(e)}}},[i("svg",{staticClass:"icon icon-edit"},[i("use",{attrs:{"xlink:href":"#icon-edit"}})])])])])})),i("div",{staticClass:"addr-add",on:{click:t.openAddressModal}},[i("div",{staticClass:"icon-add"}),i("div",[t._v("添加新地址")])])],2)]),i("div",{staticClass:"item-good"},[i("h2",[t._v("商品")]),i("ul",t._l(t.cartList,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"good-name"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:""}}),i("span",[t._v(t._s(e.productName+" "+e.productSubtitle))])]),i("div",{staticClass:"good-price"},[t._v(t._s(e.productPrice)+"元x"+t._s(e.quantity))]),i("div",{staticClass:"good-total"},[t._v(t._s(e.productTotalPrice)+"元")])])})),0)]),t._m(0),t._m(1),i("div",{staticClass:"detail"},[i("div",{staticClass:"item"},[i("span",{staticClass:"item-name"},[t._v("商品件数：")]),i("span",{staticClass:"item-val"},[t._v(t._s(t.count)+"件")])]),i("div",{staticClass:"item"},[i("span",{staticClass:"item-name"},[t._v("商品总价：")]),i("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])]),t._m(2),t._m(3),i("div",{staticClass:"item-total"},[i("span",{staticClass:"item-name"},[t._v("应付总额：")]),i("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])])]),i("div",{staticClass:"btn-group"},[i("a",{staticClass:"btn btn-default btn-large",attrs:{href:"/#/cart"}},[t._v("返回购物车")]),i("a",{staticClass:"btn btn-large",attrs:{href:"javascript:;"},on:{click:t.orderSubmit}},[t._v("去结算")])])])])]),i("modal",{attrs:{title:"新增确认",btnType:"1",showModal:t.showEditModal},on:{cancel:function(e){t.showEditModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticClass:"edit-wrap"},[i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverName,expression:"checkedItem.receiverName"}],staticClass:"input",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.checkedItem.receiverName},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverName",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverMobile,expression:"checkedItem.receiverMobile"}],staticClass:"input",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.checkedItem.receiverMobile},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverMobile",e.target.value)}}})]),i("div",{staticClass:"item"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverProvince,expression:"checkedItem.receiverProvince"}],attrs:{name:"province"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverProvince",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"北京"}},[t._v("北京")]),i("option",{attrs:{value:"天津"}},[t._v("天津")]),i("option",{attrs:{value:"河北"}},[t._v("河北")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverCity,expression:"checkedItem.receiverCity"}],attrs:{name:"city"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverCity",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"北京"}},[t._v("北京")]),i("option",{attrs:{value:"天津"}},[t._v("天津")]),i("option",{attrs:{value:"河北"}},[t._v("石家庄")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverDistrict,expression:"checkedItem.receiverDistrict"}],attrs:{name:"district"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverDistrict",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"北京"}},[t._v("昌平区")]),i("option",{attrs:{value:"天津"}},[t._v("海淀区")]),i("option",{attrs:{value:"河北"}},[t._v("东城区")]),i("option",{attrs:{value:"天津"}},[t._v("西城区")]),i("option",{attrs:{value:"河北"}},[t._v("顺义区")]),i("option",{attrs:{value:"天津"}},[t._v("房山区")])])]),i("div",{staticClass:"item"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverAddress,expression:"checkedItem.receiverAddress"}],attrs:{name:"street"},domProps:{value:t.checkedItem.receiverAddress},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverAddress",e.target.value)}}})]),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverZip,expression:"checkedItem.receiverZip"}],staticClass:"input",attrs:{type:"text",placeholder:"邮编"},domProps:{value:t.checkedItem.receiverZip},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverZip",e.target.value)}}})])])]},proxy:!0}])}),i("modal",{attrs:{title:"删除确认",btnType:"1",showModal:t.showDelModal},on:{cancel:function(e){t.showDelModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[i("p",[t._v("您确认要删除此地址吗？")])]},proxy:!0}])})],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-shipping"},[i("h2",[t._v("配送方式")]),i("span",[t._v("包邮")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-invoice"},[i("h2",[t._v("发票")]),i("a",{attrs:{href:"javascript:;"}},[t._v("电子发票")]),i("a",{attrs:{href:"javascript:;"}},[t._v("个人")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("span",{staticClass:"item-name"},[t._v("优惠活动：")]),i("span",{staticClass:"item-val"},[t._v("0元")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("span",{staticClass:"item-name"},[t._v("运费：")]),i("span",{staticClass:"item-val"},[t._v("0元")])])}],r=(i("4de4"),i("d81d"),i("714b")),c={name:"order-confirm",data:function(){return{list:[],cartList:[],cartTotalPrice:0,count:0,checkedItem:{},userAction:"",showDelModal:!1,showEditModal:!1,checkIndex:0}},components:{Modal:r["a"]},mounted:function(){this.getAddressList(),this.getCartList()},methods:{getAddressList:function(){var t=this;this.axios.get("/api/shippings").then((function(e){t.list=e.list}))},openAddressModal:function(){this.userAction=0,this.checkedItem={},this.showEditModal=!0},editAddressModal:function(t){this.userAction=1,this.checkedItem=t,this.showEditModal=!0},delAddress:function(t){this.checkedItem=t,this.userAction=2,this.showDelModal=!0},submitAddress:function(){var t,e,i=this,s=this.checkedItem,a=this.userAction,r={};if(0==a?(t="post",e="/api/shippings"):1==a?(t="put",e="/api/shippings/".concat(s.id)):(t="delete",e="/api/shippings/".concat(s.id)),0==a||1==a){var c=s.receiverName,n=s.receiverMobile,o=s.receiverProvince,l=s.receiverCity,d=s.receiverDistrict,v=s.receiverAddress,u=s.receiverZip,p="";if(c?n&&/\d{11}/.test(n)?o?l?v&&d?/\d{6}/.test(u)||(p="请输入六位邮编"):p="请输入收货地址":p="请选择对应的城市":p="请选择省份":p="请输入正确格式的手机号":p="请输入收货人名称",p)return;r={receiverName:c,receiverMobile:n,receiverProvince:o,receiverCity:l,receiverDistrict:d,receiverAddress:v,receiverZip:u}}this.axios[t](e,r).then((function(){i.closeModal(),i.getAddressList()}))},closeModal:function(){this.checkedItem={},this.userAction="",this.showDelModal=!1,this.showEditModal=!1},getCartList:function(){var t=this;this.axios.get("/api/carts").then((function(e){var i=e.cartProductVoList;t.cartTotalPrice=e.cartTotalPrice,t.cartList=i.filter((function(t){return t.productSelected})),t.cartList.map((function(e){t.count+=e.quantity}))}))},orderSubmit:function(){this.$router.push({path:"/order/pay"})}}},n=c,o=(i("1255"),i("2877")),l=Object(o["a"])(n,s,a,!1,null,null,null);e["default"]=l.exports},"30db":function(t,e,i){"use strict";var s=i("0025"),a=i.n(s);a.a},"4de4":function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").filter,r=i("1dde"),c=i("ae40"),n=r("filter"),o=c("filter");s({target:"Array",proto:!0,forced:!n||!o},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"51eb":function(t,e,i){},"65f0":function(t,e,i){var s=i("861d"),a=i("e8b5"),r=i("b622"),c=r("species");t.exports=function(t,e){var i;return a(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?s(i)&&(i=i[c],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"714b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal"},[i("div",{staticClass:"mask"}),i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-header"},[i("span",[t._v(t._s(t.title))]),i("a",{staticClass:"icon-close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}})]),i("div",{staticClass:"modal-body"},[t._t("body")],2),i("div",{staticClass:"modal-footer"},[1==t.btnType?i("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]):t._e(),2==t.btnType?i("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]):t._e(),3==t.btnType?i("div",{staticClass:"btn-group"},[i("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]),i("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))])]):t._e()])])])])},a=[],r={name:"modal",props:{modalType:{type:String,default:"form"},title:String,btnType:String,sureText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},showModal:Boolean}},c=r,n=(i("30db"),i("2877")),o=Object(n["a"])(c,s,a,!1,null,null,null);e["a"]=o.exports},ae40:function(t,e,i){var s=i("83ab"),a=i("d039"),r=i("5135"),c=Object.defineProperty,n={},o=function(t){throw t};t.exports=function(t,e){if(r(n,t))return n[t];e||(e={});var i=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,d=r(e,0)?e[0]:o,v=r(e,1)?e[1]:void 0;return n[t]=!!i&&!a((function(){if(l&&!s)return!0;var t={length:-1};l?c(t,1,{enumerable:!0,get:o}):t[1]=1,i.call(t,d,v)}))}},b727:function(t,e,i){var s=i("0366"),a=i("44ad"),r=i("7b0b"),c=i("50c4"),n=i("65f0"),o=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,d=4==t,v=6==t,u=5==t||v;return function(p,m,h,f){for(var _,C,b=r(p),g=a(b),k=s(m,h,3),y=c(g.length),w=0,x=f||n,M=e?x(p,y):i?x(p,0):void 0;y>w;w++)if((u||w in g)&&(_=g[w],C=k(_,w,b),t))if(e)M[w]=C;else if(C)switch(t){case 3:return!0;case 5:return _;case 6:return w;case 2:o.call(M,_)}else if(d)return!1;return v?-1:l||d?d:M}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},d81d:function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").map,r=i("1dde"),c=i("ae40"),n=r("map"),o=c("map");s({target:"Array",proto:!0,forced:!n||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,i){var s=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-1cf32005.0372b6c6.js.map